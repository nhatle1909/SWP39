package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import Utility.FavoriteDTO;
import Utility.OrderDTO;
import java.util.List;
import Utility.UserDTO;
import SQLCommand.DAO;

public final class user_005finfo_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html lang=\"en\">\r\n");
      out.write("\r\n");
      out.write("    <head>\r\n");
      out.write("        <meta charset=\"utf-8\" />\r\n");
      out.write("\r\n");
      out.write("        <title>Customer Info</title>\r\n");
      out.write("        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n");
      out.write("        <link\r\n");
      out.write("            href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css\"\r\n");
      out.write("            rel=\"stylesheet\"\r\n");
      out.write("            />\r\n");
      out.write("        <link rel=\"stylesheet\" href=\"css/user.css\" /> <link rel=\"stylesheet\" href=\"css/nicepage.css\" media=\"screen\">\r\n");
      out.write("        <link rel=\"stylesheet\" href=\"css/ProductPage.css\" media=\"screen\">\r\n");
      out.write("        <script class=\"u-script\" type=\"text/javascript\" src=\"js/jquery.js\" defer=\"\"></script>\r\n");
      out.write("        <script class=\"u-script\" type=\"text/javascript\" src=\"js/nicepage.js\" defer=\"\"></script>\r\n");
      out.write("        <meta name=\"generator\" content=\"Nicepage 5.10.10, nicepage.com\">\r\n");
      out.write("        <link id=\"u-theme-google-font\" rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        <script type=\"application/ld+json\">{\r\n");
      out.write("            \"@context\": \"http://schema.org\",\r\n");
      out.write("            \"@type\": \"Organization\",\r\n");
      out.write("            \"name\": \"Site1\",\r\n");
      out.write("            \"logo\": \"images/logo-removebg-preview.png\"\r\n");
      out.write("            }</script>\r\n");
      out.write("        <meta name=\"theme-color\" content=\"#478ac9\">\r\n");
      out.write("        <meta property=\"og:title\" content=\"productList\">\r\n");
      out.write("        <meta property=\"og:description\" content=\"\">\r\n");
      out.write("        <meta property=\"og:type\" content=\"website\">\r\n");
      out.write("        <meta data-intl-tel-input-cdn-path=\"intlTelInput/\"></head>\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body> <header>\r\n");
      out.write("        <!-- Nav -->\r\n");
      out.write("\r\n");
      out.write("        <div class=\"nav container\">\r\n");
      out.write("            <img src=\"images/logo-removebg-preview.png\" href=\"#\" class=\"logo\"></img>\r\n");
      out.write("            <!-- Cart-Icon -->\r\n");
      out.write("            <ul>\r\n");
      out.write("                <li><a href=\"index.html\" class=\"header-title\">Home</a></li>\r\n");
      out.write("                <li><a href=\"ProductPage.jsp\" class=\"header-title\">Product</a></li>\r\n");
      out.write("                <li><a href=\"bird.jsp\" class=\"header-title\">Bird</a></li>\r\n");
      out.write("                <li><a href=\"productList.html\" class=\"header-title\">Contact</a></li>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                <li><a href=\"user_info.jsp\" class=\"header-title\">Profile</a></li>\r\n");
      out.write("\r\n");
      out.write("                <li><i class='bx bxs-cart-alt' id=\"cart-icon\"></i></li>\r\n");
      out.write("            </ul>\r\n");
      out.write("            <!-- Cart -->\r\n");
      out.write("            <div class=\"cart\">\r\n");
      out.write("                <h2 class=\"cart-title\">Your cart</h2>\r\n");
      out.write("                <!-- Content -->\r\n");
      out.write("                <div class=\"cart-content\">\r\n");
      out.write("\r\n");
      out.write("                </div>\r\n");
      out.write("                <!-- Total -->\r\n");
      out.write("                <div class=\"total\">\r\n");
      out.write("                    <div class=\"total-title\">Total</div>\r\n");
      out.write("                    <div class=\"total-price\">$0</div>\r\n");
      out.write("                </div>\r\n");
      out.write("                <!-- Buy Button -->\r\n");
      out.write("                <button type=\"button\" class=\"btn-buy\">Buy Now</button>\r\n");
      out.write("                <!-- Cart Close -->\r\n");
      out.write("                <i class='bx bx-x' id=\"close-cart\"></i>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </header>\r\n");
      out.write("    ");

        DAO sql = new DAO();
        UserDTO userDTO = (UserDTO) session.getAttribute("User_info");
        if (userDTO != null) {
    
      out.write("\r\n");
      out.write("    <!--dang link-->\r\n");
      out.write("    <div class=\"container\">\r\n");
      out.write("        <div class=\"main-body\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            <!-- Add the tab navigation -->\r\n");
      out.write("            <section>     \r\n");
      out.write("                <ul class=\"nav nav-tabs mb-4\" id=\"myTab\" role=\"tablist\">\r\n");
      out.write("                    <li class=\"nav-item\">\r\n");
      out.write("                        <a class=\"nav-link active\" id=\"user-info-tab\" data-toggle=\"tab\" href=\"#user-info\"\r\n");
      out.write("                           role=\"tab\" aria-controls=\"user-info\" aria-selected=\"true\">User Information</a>\r\n");
      out.write("                    </li>\r\n");
      out.write("\r\n");
      out.write("                    <li class=\"nav-item\">\r\n");
      out.write("                        <a class=\"nav-link\" id=\"favorite-products-tab\" data-toggle=\"tab\" href=\"#favorite-products\"\r\n");
      out.write("                           role=\"tab\" aria-controls=\"favorite-products\" aria-selected=\"false\">Favorite Product List</a>\r\n");
      out.write("                    </li>\r\n");
      out.write("                    <li class=\"nav-item\">\r\n");
      out.write("                        <a class=\"nav-link\" id=\"order-history-tab\" data-toggle=\"tab\" href=\"#order-history\" role=\"tab\"\r\n");
      out.write("                           aria-controls=\"order-history\" aria-selected=\"false\">Order History</a>\r\n");
      out.write("                    </li>\r\n");
      out.write("                    <li class=\"nav-item\">\r\n");
      out.write("                        <a class=\"nav-link active\" id=\"order-detail-tabl\" data-toggle=\"tab\" href=\"#order-detail\"\r\n");
      out.write("                           role=\"tab\" aria-controls=\"order-detail\" aria-selected=\"true\">Order detail</a>\r\n");
      out.write("                    </li>\r\n");
      out.write("                </ul>\r\n");
      out.write("            </section>  \r\n");
      out.write("            <div class=\"tab-content\" id=\"myTabContent\">\r\n");
      out.write("                <div class=\"tab-pane fade show active\" id=\"user-info\" role=\"tabpanel\"\r\n");
      out.write("                     aria-labelledby=\"user-info-tab\">\r\n");
      out.write("\r\n");
      out.write("                    <div class=\"row gutters-sm\">\r\n");
      out.write("                        <div class=\"col-md-4 mb-3\">\r\n");
      out.write("                            <div class=\"card\">\r\n");
      out.write("                                <div class=\"card-body\">\r\n");
      out.write("                                    <div class=\"d-flex flex-column align-items-center text-center\">\r\n");
      out.write("                                        <div class=\"mt-3\">\r\n");
      out.write("                                            <p class=\"text-secondary mb-1\">");
      out.print( userDTO.getRole());
      out.write("</p>\r\n");
      out.write("                                            <p class=\"text-muted font-size-sm\">UserID : ");
      out.print( userDTO.getUser_id());
      out.write("\r\n");
      out.write("                                            </p>\r\n");
      out.write("                                            <br/>\r\n");
      out.write("                                            <a class=\"btn btn-primary\" href=\"UpdatePassword.jsp\">Update Password</a>\r\n");
      out.write("                                            <form action=\"MainController\" method=\"post\">\r\n");
      out.write("                                                <br/>\r\n");
      out.write("                                                <input class=\"btn btn-success btn-sm mr-2\"\r\n");
      out.write("                                                       type=\"submit\" name=\"btAction\" value=\"Logout\" />\r\n");
      out.write("                                            </form>\r\n");
      out.write("                                            <br><br />        \r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("\r\n");
      out.write("                        </div>\r\n");
      out.write("\r\n");
      out.write("                        <div class=\"col-md-8\">\r\n");
      out.write("\r\n");
      out.write("                            <div class=\"card mb-3\">\r\n");
      out.write("                                <form action=\"MainController\" method=\"POST\">\r\n");
      out.write("                                    <div class=\"card-body\">\r\n");
      out.write("                                        <div class=\"row\">\r\n");
      out.write("                                            <div class=\"col-sm-3\">\r\n");
      out.write("                                                <h6 class=\"mb-0\">Username</h6>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"col-sm-9 text-secondary\">");
      out.print( userDTO.getUsername());
      out.write("</div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                        <hr />\r\n");
      out.write("\r\n");
      out.write("                                        <div class=\"row\">\r\n");
      out.write("                                            <div class=\"col-sm-3\">\r\n");
      out.write("                                                <h6 class=\"mb-0\">Email</h6>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"col-sm-9 text-secondary\">\r\n");
      out.write("                                                <a href=\"/cdn-cgi/l/email-protection\"\r\n");
      out.write("                                                   class=\"cf_email\"\r\n");
      out.write("                                                   data-cfemail=\"fa9c938aba908f91978f92d49b96\">");
      out.print( userDTO.getMail());
      out.write("</a>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                        <hr />\r\n");
      out.write("                                        <div class=\"row\">\r\n");
      out.write("                                            <div class=\"col-sm-3\">\r\n");
      out.write("                                                <h6 class=\"mb-0\">Phone Number</h6>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"col-sm-9 text-secondary\">\r\n");
      out.write("                                                ");
      out.print( userDTO.getPhone_number());
      out.write("\r\n");
      out.write("\r\n");
      out.write("                                                <input type=\"text\" name=\"txtPhoneNumber\"\r\n");
      out.write("                                                       class=\"form-control form-control-sm mb-2\"\r\n");
      out.write("                                                       value=\"");
      out.print( userDTO.getPhone_number());
      out.write("\" required\r\n");
      out.write("                                                       style=\"display:none;\">\r\n");
      out.write("\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                        <hr />\r\n");
      out.write("                                        <div class=\"row\">\r\n");
      out.write("                                            <div class=\"col-sm-3\">\r\n");
      out.write("                                                <h6 class=\"mb-0\">Address</h6>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"col-sm-9 text-secondary\">\r\n");
      out.write("                                                ");
      out.print( userDTO.getAddress());
      out.write("\r\n");
      out.write("\r\n");
      out.write("                                                <input type=\"text\" name=\"txtAddress\"\r\n");
      out.write("                                                       class=\"form-control form-control-sm mb-2\"\r\n");
      out.write("                                                       value=\"");
      out.print( userDTO.getAddress());
      out.write("\" required\r\n");
      out.write("                                                       style=\"display:none;\">\r\n");
      out.write("\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                        <hr />\r\n");
      out.write("                                        <div class=\"row\">\r\n");
      out.write("                                            <div class=\"col-sm-12\">\r\n");
      out.write("                                                <button type=\"button\" class=\"btn btn-info\" onclick=\"editInfo()\">Edit</button>\r\n");
      out.write("                                                <button type=\"button\" class=\"btn btn-secondary btn-sm\" onclick=\"cancelEdit()\"\r\n");
      out.write("                                                        style=\"display:none;\">Cancel</button>\r\n");
      out.write("                                                <br /><br />\r\n");
      out.write("                                                <input id=\"save\" class=\"btn btn-success btn-sm mr-2\"\r\n");
      out.write("                                                       style=\"display:none;\" type=\"submit\" name=\"btAction\" value=\"Save\" />\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </form>\r\n");
      out.write("\r\n");
      out.write("                            </div>\r\n");
      out.write("\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <!-- Add the order history tab content -->\r\n");
      out.write("                <div class=\"tab-pane fade\" id=\"order-history\" role=\"tabpanel\" aria-labelledby=\"order-history-tab\">\r\n");
      out.write("                    <div class=\"row gutters-sm\">\r\n");
      out.write("                        <div class=\"col-sm-12 mb-3\">\r\n");
      out.write("                            <div class=\"card h-100\">\r\n");
      out.write("                                <div class=\"card-body\">\r\n");
      out.write("                                    <h5 class=\"card-title\">Order History</h5>\r\n");
      out.write("                                    <div class=\"table-responsive\">\r\n");
      out.write("                                        <table class=\"table table-hover\">\r\n");
      out.write("\r\n");
      out.write("                                            <thead>\r\n");
      out.write("                                                <tr>\r\n");
      out.write("                                                    <th>Order ID</th>\r\n");
      out.write("                                                    <th>Date</th>\r\n");
      out.write("                                                    <th>Total Amount</th>\r\n");
      out.write("                                                    <th>Status</th>\r\n");
      out.write("                                                    <th>Check</th>\r\n");
      out.write("                                                    <th>Cancel</th>\r\n");
      out.write("                                                </tr>\r\n");
      out.write("                                            </thead>\r\n");
      out.write("                                            <tbody>\r\n");
      out.write("                                                ");
  sql.orderHistory(userDTO.getUser_id());
                                                    List<OrderDTO> orders = sql.getListOrder();
                                                    if (orders != null && !orders.isEmpty()) {
                                                        for (OrderDTO order : orders) {
      out.write("\r\n");
      out.write("                                                <tr>\r\n");
      out.write("\r\n");
      out.write("                                                    <td>");
      out.print( order.getOrder_id());
      out.write("</td>\r\n");
      out.write("                                                    <td>");
      out.print( order.getOrder_date());
      out.write("</td>\r\n");
      out.write("                                                    <td>$");
      out.print( order.getTotal_price());
      out.write("</td>\r\n");
      out.write("                                                    <td>");
      out.print( order.getStatus());
      out.write("</td>\r\n");
      out.write("                                                    <td><input type=\"submit\" name=\"btAction\" value=\"Check\" class = \"btn btn-primary\"></td>\r\n");
      out.write("                                                        ");
 if (order.getStatus().equals("WAITING")) {
      out.write("\r\n");
      out.write("                                                    <td>\r\n");
      out.write("                                                        <form action=\"MainController\" method=\"post\">\r\n");
      out.write("                                                            <input type=\"hidden\" name=\"txtOrderID\" value=\"");
      out.print(order.getOrder_id());
      out.write("\">\r\n");
      out.write("                                                            <input type=\"submit\" name=\"btAction\" value=\"Cancel\" class = \"btn btn-primary\">\r\n");
      out.write("                                                            ");
}
      out.write("\r\n");
      out.write("                                                        </form>\r\n");
      out.write("                                                    </td>\r\n");
      out.write("                                                </tr>\r\n");
      out.write("                                                ");
 }
                                            } else { 
      out.write("\r\n");
      out.write("                                                <tr>\r\n");
      out.write("                                                    <td colspan=\"4\" class=\"text-center\">No orders found.</td>\r\n");
      out.write("                                                </tr>\r\n");
      out.write("                                                ");
}
      out.write("\r\n");
      out.write("                                            </tbody>\r\n");
      out.write("                                        </table>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <!-- Add the favorite products tab content -->\r\n");
      out.write("                <div class=\"tab-pane fade\" id=\"favorite-products\" role=\"tabpanel\"\r\n");
      out.write("                     aria-labelledby=\"favorite-products-tab\">\r\n");
      out.write("                    <div class=\"row gutters-sm\">\r\n");
      out.write("                        <div class=\"col-sm-12 mb-3\">\r\n");
      out.write("                            <div class=\"card h-100\">\r\n");
      out.write("                                <div class=\"card-body\">\r\n");
      out.write("                                    <h5 class=\"card-title\">Favorite Products</h5>\r\n");
      out.write("                                    <div class=\"table-responsive\">\r\n");
      out.write("                                        <table class=\"table table-hover\">\r\n");
      out.write("                                            <thead>\r\n");
      out.write("                                                <tr>\r\n");
      out.write("                                                    <th>No.</th>\r\n");
      out.write("                                                    <th>Product ID</th>\r\n");
      out.write("                                                    <th>Product Name</th>\r\n");
      out.write("                                                    <th>Price</th>\r\n");
      out.write("                                                    <th></th>\r\n");
      out.write("                                                </tr>\r\n");
      out.write("                                            </thead>\r\n");
      out.write("                                            <tbody>\r\n");
      out.write("                                                ");
 int count = 0;
                                                    sql.searchFavoriteProduct(userDTO.getUser_id());
                                                    List<FavoriteDTO> favorites = sql.getListFavorite();
                                                    if (favorites != null && !favorites.isEmpty()) {
                                                        for (FavoriteDTO favorite : favorites) {
      out.write("\r\n");
      out.write("                                                <tr>\r\n");
      out.write("                                                    <td>");
      out.print( ++count);
      out.write("</td>\r\n");
      out.write("                                                    <td>");
      out.print( favorite.getProduct_id());
      out.write("</td>\r\n");
      out.write("                                                    <td>");
      out.print( favorite.getProduct_name());
      out.write("</td>\r\n");
      out.write("                                                    <td>");
      out.print( favorite.getPrice());
      out.write("</td>\r\n");
      out.write("\r\n");
      out.write("                                                    <td>\r\n");
      out.write("                                                        <form action=\"MainController\" method=\"post\">\r\n");
      out.write("                                                            <input type=\"hidden\" name=\"txtUserID\" value=\"");
      out.print( userDTO.getUser_id());
      out.write("\">\r\n");
      out.write("                                                            <input type=\"hidden\" name=\"txtProductID\" value=\"");
      out.print( favorite.getProduct_id());
      out.write("\"/>\r\n");
      out.write("                                                            <input class=\"btn btn-success btn-sm mr-2\" type=\"submit\" name=\"btAction\" value=\"Remove\" />\r\n");
      out.write("                                                        </form>\r\n");
      out.write("                                                    </td>\r\n");
      out.write("                                                </tr>\r\n");
      out.write("                                                ");
 }
                                                } else { 
      out.write("\r\n");
      out.write("                                                <tr>\r\n");
      out.write("                                                    <td colspan=\"4\" class=\"text-center\">No orders found.</td>\r\n");
      out.write("                                                </tr>\r\n");
      out.write("                                                ");
}
      out.write("\r\n");
      out.write("                                            </tbody>\r\n");
      out.write("                                        </table>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("    <script data-cfasync=\"false\"\r\n");
      out.write("    src=\"/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js\"></script>\r\n");
      out.write("    <script src=\"https://code.jquery.com/jquery-1.10.2.min.js\"></script>\r\n");
      out.write("    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js\"></script>\r\n");
      out.write("    <script type=\"text/javascript\">\r\n");
      out.write("                                                    // Function to show the form for editing phone number and hide the Edit button\r\n");
      out.write("                                                    function editInfo() {\r\n");
      out.write("                                                        document.getElementsByName(\"txtPhoneNumber\")[0].style.display = \"block\";\r\n");
      out.write("                                                        document.getElementsByName(\"txtAddress\")[0].style.display = \"block\";\r\n");
      out.write("                                                        document.getElementsByTagName(\"button\")[0].style.display = \"none\";\r\n");
      out.write("                                                        document.getElementsByTagName(\"button\")[1].style.display = \"inline-block\";\r\n");
      out.write("                                                        document.querySelector('input[type=\"submit\"][name=\"btAction\"][value=\"Save\"]').style.display = \"inline-block\";\r\n");
      out.write("                                                    }\r\n");
      out.write("\r\n");
      out.write("                                                    // Function to cancel editing of phone number and show the Edit button\r\n");
      out.write("                                                    function cancelEdit() {\r\n");
      out.write("                                                        document.getElementsByName(\"txtPhoneNumber\")[0].value = \"");
      out.print( userDTO.getPhone_number());
      out.write("\";\r\n");
      out.write("                                                        document.getElementsByName(\"txtAddress\")[0].value = \"");
      out.print( userDTO.getAddress());
      out.write("\";\r\n");
      out.write("                                                        document.getElementsByName(\"txtPhoneNumber\")[0].style.display = \"none\";\r\n");
      out.write("                                                        document.getElementsByName(\"txtAddress\")[0].style.display = \"none\";\r\n");
      out.write("                                                        document.getElementsByTagName(\"button\")[0].style.display = \"block\";\r\n");
      out.write("                                                        document.getElementsByTagName(\"button\")[1].style.display = \"none\";\r\n");
      out.write("                                                        document.querySelector('input[type=\"submit\"][name=\"btAction\"][value=\"Save\"]').style.display = \"none\";\r\n");
      out.write("                                                    }\r\n");
      out.write("\r\n");
      out.write("                                                    // Function to display the Save button on form submit\r\n");
      out.write("                                                    $(\"form\").submit(function () {\r\n");
      out.write("                                                        $(\"#save\").css(\"display\", \"inline-block\");\r\n");
      out.write("                                                    });\r\n");
      out.write("    </script>\r\n");
      out.write("    <script type=\"text/javascript\">\r\n");
      out.write("        // Retrieve the last selected tab from local storage, or default to the first tab\r\n");
      out.write("        const selectedTab = localStorage.getItem('selectedTab') || '#user-info';\r\n");
      out.write("\r\n");
      out.write("        // Set the last selected tab as active\r\n");
      out.write("        $(function () {\r\n");
      out.write("            $('a[href=\"' + selectedTab + '\"]').tab('show');\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        // Store the currently selected tab in local storage when a new tab is selected\r\n");
      out.write("        $('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\r\n");
      out.write("            localStorage.setItem('selectedTab', e.target.hash);\r\n");
      out.write("        });\r\n");
      out.write("    </script>\r\n");
      out.write("    ");
} else {
            response.sendRedirect("login.jsp");
        }
      out.write("\r\n");
      out.write("</body>\r\n");
      out.write("\r\n");
      out.write("</html>\r\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
